/* Force light mode */
html {
  color-scheme: light;
}

/*
 * Option C â€” "Warm paper"
 * Simple, low-saturation theme:
 * - paper-like background
 * - subtle borders
 * - single muted accent
 * - no gradients / no glass effects
 */
:root {
  /* Core palette */
  --paper-bg: #fbf7f0;
  --surface: #ffffff;
  --surface-2: #f7f2ea;
  --text: #1f2937; /* slate-800-ish */
  --muted: rgba(31, 41, 55, 0.68);
  --border: rgba(31, 41, 55, 0.16);

  /* Accent (muted warm/earthy) */
  --accent: #b45309; /* amber-700 */
  --accent-hover: #92400e; /* amber-800 */
  --accent-soft: rgba(180, 83, 9, 0.14);

  /* Pico variable overrides (kept minimal) */
  --pico-background-color: var(--paper-bg);

  --pico-color: var(--text);
  --pico-muted-color: var(--muted);
  --pico-muted-border-color: var(--border);

  --pico-card-background-color: var(--surface);
  --pico-card-border-color: var(--border);
  --pico-card-sectioning-background-color: var(--surface-2);

  --pico-form-element-background-color: var(--surface);
  --pico-form-element-selected-background-color: var(--surface);
  --pico-form-element-border-color: var(--border);
  --pico-form-element-color: var(--text);
  --pico-form-element-placeholder-color: rgba(31, 41, 55, 0.45);
  --pico-form-element-active-background-color: #ffffff;
  --pico-form-element-active-border-color: rgba(180, 83, 9, 0.55);
  --pico-form-element-focus-color: rgba(180, 83, 9, 0.18);

  --pico-primary: var(--accent);
  --pico-primary-background: var(--accent);
  --pico-primary-border: rgba(180, 83, 9, 0.65);
  --pico-primary-hover: var(--accent-hover);
  --pico-primary-hover-background: var(--accent-hover);
  --pico-primary-hover-border: rgba(146, 64, 14, 0.75);
  --pico-primary-focus: rgba(180, 83, 9, 0.22);
  --pico-primary-inverse: #ffffff;

  --pico-secondary: var(--text);
  --pico-secondary-background: var(--surface);
  --pico-secondary-border: var(--border);
  --pico-secondary-hover: var(--text);
  --pico-secondary-hover-background: var(--surface);
  --pico-secondary-hover-border: rgba(31, 41, 55, 0.22);
  --pico-secondary-focus: rgba(180, 83, 9, 0.14);
  --pico-secondary-inverse: #ffffff;

  --pico-code-background-color: rgba(180, 83, 9, 0.08);
  --pico-code-color: var(--text);

  --pico-table-border-color: var(--border);
  --pico-blockquote-border-color: rgba(180, 83, 9, 0.35);
  --pico-blockquote-footer-color: var(--muted);

  --pico-mark-background-color: rgba(180, 83, 9, 0.22);
  --pico-mark-color: var(--text);

  --pico-dropdown-background-color: var(--surface);
  --pico-dropdown-border-color: var(--border);
  --pico-dropdown-color: var(--text);
  --pico-dropdown-hover-background-color: rgba(180, 83, 9, 0.06);

  --pico-modal-overlay-background-color: rgba(31, 41, 55, 0.55);

  --pico-progress-background-color: rgba(31, 41, 55, 0.12);
  --pico-progress-color: var(--accent);

  --pico-tooltip-background-color: #111827;
  --pico-tooltip-color: #ffffff;

  --pico-switch-background-color: rgba(31, 41, 55, 0.2);
  --pico-switch-checked-background-color: var(--accent);
  --pico-switch-color: #ffffff;

  --pico-range-border-color: rgba(31, 41, 55, 0.2);
  --pico-range-active-border-color: rgba(180, 83, 9, 0.55);
  --pico-range-thumb-border-color: var(--accent);
  --pico-range-thumb-color: var(--accent);
  --pico-range-thumb-active-color: var(--accent-hover);

  --pico-accordion-border-color: var(--border);
  --pico-accordion-active-summary-color: var(--text);
  --pico-accordion-close-summary-color: var(--text);
  --pico-accordion-open-summary-color: var(--text);

  --pico-box-shadow: 0 0.35rem 1.1rem rgba(31, 41, 55, 0.08);
}

/* Direct overrides with !important to beat Pico's @layer specificity */
html,
body {
  color: var(--text) !important;
  background: var(--paper-bg) !important;
}

body {
  font-family: "Inter", sans-serif;
}

/* Ensure form controls and buttons use Inter (browsers don't always inherit) */
button,
input,
select {
  font-family: "Inter", sans-serif !important;
  color: var(--text) !important;
}

main.container {
  background-color: transparent !important;
  max-width: 1100px;
}

article {
  background-color: var(--surface) !important;
  border: 1px solid var(--border) !important;
  box-shadow: var(--pico-box-shadow);
  border-radius: 0.85rem;
}

section {
  background-color: transparent !important;
}

header {
  background-color: transparent !important;
}

fieldset {
  background-color: transparent !important;
}

textarea,
input[type="text"],
input[type="email"],
input[type="password"],
input[type="search"],
input[type="url"],
input[type="tel"],
input[type="number"],
select {
  background-color: var(--surface) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
  border-radius: 0.85rem;
}

textarea:focus,
input:focus,
select:focus {
  border-color: rgba(180, 83, 9, 0.55) !important;
  box-shadow: 0 0 0 0.2rem rgba(180, 83, 9, 0.14) !important;
}

textarea::placeholder,
input::placeholder {
  color: rgba(31, 41, 55, 0.45) !important;
}

code,
pre {
  background-color: rgba(180, 83, 9, 0.08) !important;
  color: var(--text) !important;
  border-radius: 0.6rem;
}

code,
pre,
textarea {
  font-family: "Fira Code", monospace !important;
}

/* Links */
a {
  color: var(--accent) !important;
  text-decoration-color: rgba(180, 83, 9, 0.45) !important;
}

a:hover,
a:focus {
  color: var(--accent-hover) !important;
  text-decoration-color: rgba(146, 64, 14, 0.55) !important;
}

/* Make the form spacing tighter/cleaner */
form {
  display: flex;
  flex-direction: column;
  gap: 0.85rem;
}

/* Primary action button: simple solid (no gradient) */
button[type="submit"] {
  background: var(--accent) !important;
  color: #ffffff !important;
  border: 1px solid rgba(180, 83, 9, 0.75) !important;
  box-shadow: 0 0.45rem 1.05rem rgba(180, 83, 9, 0.18);
  border-radius: 0.95rem;

  padding: 0.85rem 1rem !important;
  font-size: 1.05rem !important;
}

button[type="submit"]:hover {
  background: var(--accent-hover) !important;
  border-color: rgba(146, 64, 14, 0.85) !important;
}

button[type="submit"]:focus {
  box-shadow: 0 0 0 0.2rem rgba(180, 83, 9, 0.2),
    0 0.45rem 1.05rem rgba(180, 83, 9, 0.18) !important;
}

/* Keep other buttons neutral */
button:not([type="submit"]),
[type="button"],
[role="button"] {
  background-color: var(--surface) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
  border-radius: 0.85rem;
}

button:not([type="submit"]):hover,
[type="button"]:hover,
[role="button"]:hover {
  background-color: rgba(180, 83, 9, 0.06) !important;
  border-color: rgba(180, 83, 9, 0.28) !important;
}

/* Spacing */
h1 {
  margin-bottom: 0.25rem;
  letter-spacing: -0.02em;
}

/* Centered header (simplified, no gradient text) */
.page-header {
  text-align: center;
  padding-top: 2.25rem;
  padding-bottom: 1rem;
}

.page-header h1 {
  color: var(--text);
}

.page-header .subtitle {
  margin-top: 0;
  color: var(--pico-muted-color);
  max-width: 52rem;
  margin-left: auto;
  margin-right: auto;
}

/* Icon sizing helper */
.ui-icon {
  width: 1rem;
  height: 1rem;
  display: block;
}

.ui-icon--sm {
  width: 0.95rem;
  height: 0.95rem;
}

.ui-icon--lg {
  width: 1.25rem;
  height: 1.25rem;
}

/* Info button (opens Pico modal) */
#openInfo {
  position: fixed;
  top: 1rem;
  right: 1rem;
  z-index: 12000;
  border-radius: 0.85rem !important;

  background: var(--surface) !important;
  border-color: rgba(180, 83, 9, 0.35) !important;
  box-shadow: var(--pico-box-shadow);

  width: 2.75rem;
  height: 2.75rem;
  padding: 0 !important;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  color: var(--accent) !important;
}

#openInfo:hover {
  background: rgba(180, 83, 9, 0.06) !important;
  border-color: rgba(180, 83, 9, 0.55) !important;
}

/* Modal: simple surface */
#infoModal article {
  max-height: min(80vh, 48rem);
  overflow: auto;
  overscroll-behavior: contain;

  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  box-shadow: var(--pico-box-shadow);
  border-radius: 1rem;
}

#infoModal header p {
  margin: 0;
}

#infoModal header strong {
  font-size: 1.05rem;
}

/* --- Strategy area: compact --- */
fieldset {
  border: 1px solid var(--border) !important;
  background: var(--surface-2) !important;
  border-radius: 1rem;
  padding: 0.7rem 0.9rem !important;

  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem 1.25rem;
  align-items: center;
}

fieldset > legend {
  flex: 0 0 100%;
  margin: 0 0 0.1rem 0 !important;
  padding: 0 0.25rem;
  font-size: 0.9rem;
  font-weight: 650;
  color: rgba(31, 41, 55, 0.72);
}

@media (max-width: 576px) {
  fieldset {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.45rem;
  }
}

/* Strategy rows */
.strategy-row {
  display: inline-flex;
  align-items: center;
  gap: 0.55rem;
  padding: 0.1rem 0;
  width: auto;
}

.strategy-row > label {
  display: inline-flex !important;
  align-items: center;
  gap: 0.45rem;
  margin: 0 !important;
  white-space: nowrap;
}

.strategy-row input[type="radio"] {
  margin: 0 !important;
  transform: translateY(0.5px);
}

/* Hint button + tooltip */
.hint-wrap {
  position: relative;
  display: inline-block;
  align-self: center;
}

button.hint {
  appearance: none;
  -webkit-appearance: none;

  width: 2.25rem !important;
  height: 2.25rem !important;
  padding: 0 !important;
  border-radius: 0.75rem !important;

  display: inline-flex !important;
  align-items: center;
  justify-content: center;

  color: var(--accent) !important;
  border: 1px solid rgba(180, 83, 9, 0.35) !important;
  background: var(--surface) !important;

  cursor: pointer;
  box-shadow: 0 0.25rem 0.75rem rgba(31, 41, 55, 0.06);
}

button.hint:hover {
  background: rgba(180, 83, 9, 0.06) !important;
  border-color: rgba(180, 83, 9, 0.55) !important;
}

button.hint:focus {
  outline: none;
  box-shadow: 0 0 0 0.2rem rgba(180, 83, 9, 0.16),
    0 0.25rem 0.75rem rgba(31, 41, 55, 0.06) !important;
}

.hint-wrap .tooltip {
  display: none;
  position: absolute;
  left: 0;
  top: calc(100% + 0.45rem);
  z-index: 2000;
  box-sizing: border-box;
  width: min(30rem, 88vw);
  padding: 0.65rem 0.8rem;

  background: var(--surface) !important;
  color: var(--text);
  border: 1px solid rgba(31, 41, 55, 0.14);
  border-radius: 0.85rem;
  box-shadow: var(--pico-box-shadow);

  font-size: 0.92rem;
  line-height: 1.35;
  text-align: left;
  white-space: normal;
}

/* Show tooltip on hover (desktop) and while focused (click/tap) */
.hint-wrap:hover .tooltip,
.hint-wrap:focus-within .tooltip {
  display: block;
}

/* --- Results: simple "paper" boxes --- */
#results {
  margin-top: 1.25rem;
}

#outputSection,
#statsSection {
  margin: 0 0 1rem 0;
}

.result-label {
  margin: 0 0 0.6rem 0;
  font-weight: 650;
  color: rgba(31, 41, 55, 0.88);
}

.result-pre {
  white-space: pre-wrap;
  overflow-x: auto;

  background: rgba(31, 41, 55, 0.04) !important;
  border: 1px solid rgba(31, 41, 55, 0.12) !important;
  padding: 1.05rem 1.15rem !important;
  margin: 0 !important;
  border-radius: 0.6rem !important;

  color: var(--text) !important;
  font-size: 1.02rem;
  line-height: 1.5;
}

.result-box {
  background: rgba(31, 41, 55, 0.03) !important;
  border: 1px solid rgba(31, 41, 55, 0.12) !important;
  padding: 0.95rem 1.05rem !important;
  margin: 0 !important;
  border-radius: 0.6rem !important;
}

#statsContent {
  font-size: 1rem;
  color: rgba(31, 41, 55, 0.82);
}

/* Details summaries */
details > summary[role="button"] {
  width: fit-content !important;
}
